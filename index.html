<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <title>Sherlock Holmes — Character Card</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    :root {
      --bg-dark: #0a0a0f;
      --bg-card: rgba(15, 15, 25, 0.8);
      --accent: #00ff88;
      --accent-light: #39ff14;
      --accent-dim: #00cc6a;
      --text: #f0fff4;
      --text-muted: #b8d4be;
    }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(28px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes shimmer {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: var(--text);
      background: linear-gradient(135deg, #0a0a0f 0%, #0d1f14 35%, #0a1520 70%, #0a0a0f 100%);
      background-attachment: fixed;
      line-height: 1.6;
    }
    .lang-switch {
      position: fixed;
      top: 1rem;
      right: 1.5rem;
      z-index: 10;
      display: flex;
      gap: 0.25rem;
      animation: fadeInUp 0.7s ease-out both;
    }
    .lang-switch button {
      padding: 0.4rem 0.75rem;
      font-size: 0.85rem;
      font-weight: 500;
      color: var(--text-muted);
      background: rgba(10, 10, 15, 0.95);
      border: 1px solid rgba(0, 255, 136, 0.4);
      border-radius: 6px;
      cursor: pointer;
      transition: color 0.2s, border-color 0.2s, background 0.2s;
    }
    .lang-switch button:hover {
      color: var(--accent-light);
      border-color: var(--accent);
    }
    .lang-switch button.active {
      color: var(--accent-light);
      background: rgba(0, 255, 136, 0.15);
      border-color: var(--accent);
    }
    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }
    section {
      padding: 3rem 0;
      border-bottom: 1px solid rgba(0, 255, 136, 0.25);
      animation: fadeInUp 0.8s ease-out both;
    }
    section.hero { animation-delay: 0.08s; }
    section.about { animation-delay: 0.25s; }
    section.services { animation-delay: 0.35s; }
    section.contacts { animation-delay: 0.45s; }
    section:last-of-type { border-bottom: none; }
    .hero {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 2rem;
    }
    .hero-text { flex: 1; min-width: 260px; }
    .hero-photo {
      flex-shrink: 0;
      width: 160px;
      height: 160px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid rgba(0, 255, 136, 0.6);
      box-shadow: 0 0 32px rgba(57, 255, 20, 0.25);
      animation: fadeInUp 0.65s ease-out 0.15s both;
    }
    h1 {
      font-size: clamp(2rem, 5vw, 2.75rem);
      font-weight: 700;
      margin: 0 0 0.5rem;
      background: linear-gradient(90deg, #39ff14, #00ff88, #00fff7, #39ff14, #00ff88);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: fadeInUp 0.65s ease-out 0.2s both, shimmer 5s ease-in-out 0.5s infinite;
    }
    .hero .subtitle {
      font-size: 1.15rem;
      color: var(--accent-light);
      margin: 0 0 1rem;
      font-weight: 500;
      animation: fadeInUp 0.65s ease-out 0.3s both;
    }
    .hero .desc {
      color: var(--text-muted);
      font-size: 1rem;
      max-width: 540px;
      margin: 0;
      animation: fadeInUp 0.65s ease-out 0.4s both;
    }
    h2 {
      font-size: 1.25rem;
      margin: 0 0 1rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: linear-gradient(90deg, #00ff88, #00fff7, #39ff14, #00ff88);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer 4s ease-in-out infinite;
    }
    .about p {
      margin: 0 0 1rem;
      color: var(--text-muted);
      font-size: 0.95rem;
    }
    .about p:last-child { margin-bottom: 0; }
    .contacts a {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--accent-light);
      text-decoration: none;
      margin-right: 1.5rem;
      margin-bottom: 0.75rem;
      font-size: 0.95rem;
      transition: color 0.25s ease, transform 0.2s ease;
      position: relative;
    }
    .contacts a::after {
      content: '';
      position: absolute;
      left: 0;
      bottom: -2px;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), var(--accent-light));
      transition: width 0.25s ease;
    }
    .contacts a:hover {
      color: #7affb8;
      transform: translateX(4px);
    }
    .contacts a:hover::after {
      width: 100%;
    }
    .contacts .email { margin-bottom: 1rem; }
    .services-list { list-style: none; padding: 0; margin: 0; }
    .services-list li {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      flex-wrap: wrap;
      gap: 0.5rem;
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(0, 255, 136, 0.12);
      color: var(--text-muted);
      font-size: 0.95rem;
    }
    .services-list li:last-child { border-bottom: none; }
    .services-list .name { color: var(--text); font-weight: 500; }
    .services-list .price { color: var(--accent-light); white-space: nowrap; }
    .services-note { margin-top: 1rem; color: var(--text-muted); font-size: 0.875rem; }
    @media (max-width: 480px) {
      .lang-switch { top: 0.75rem; right: 1rem; }
      .container { padding: 1.5rem 1rem; }
      section { padding: 2rem 0; }
      .hero { flex-direction: column; text-align: center; }
      .hero .desc { margin-left: auto; margin-right: auto; }
      .contacts a { margin-right: 1rem; }
    }
  </style>
</head>
<body>
  <nav class="lang-switch" aria-label="Language">
    <button type="button" data-lang="en" class="active">EN</button>
    <button type="button" data-lang="ru">RU</button>
  </nav>

  <div class="container">
    <section class="hero">
      <img
        class="hero-photo"
        src="sherlock-hero.png"
        alt="Sherlock Holmes"
        width="160"
        height="160"
      >
      <div class="hero-text">
        <h1 data-i18n="heroName">Sherlock Holmes</h1>
        <p class="subtitle" data-i18n="heroSubtitle">Consulting Detective</p>
        <p class="desc" data-i18n="heroDesc">Private detective based at 221B Baker Street, London. Renowned for observation, deduction, and solving the most baffling cases.</p>
      </div>
    </section>

    <section class="about">
      <h2 data-i18n="aboutTitle">About</h2>
      <p data-i18n="about1">Sherlock Holmes is a fictional detective created by Sir Arthur Conan Doyle, first appearing in 1887. He is known for his sharp mind, mastery of disguise, and ability to draw conclusions from the smallest details. He lives at 221B Baker Street with his friend and chronicler Dr. John Watson.</p>
      <p data-i18n="about2">Holmes applies strict logic and scientific method to every case. He plays the violin, practices boxing and fencing, and has a deep knowledge of chemistry and forensic science. His methods of observation and deductive reasoning have made him one of the most famous characters in world literature.</p>
      <p data-i18n="about3">The character has been adapted countless times in film, television, and theatre. Holmes remains a symbol of intellect and the power of reason—and an enduring icon of the detective genre.</p>
    </section>

    <section class="services">
      <h2 data-i18n="servicesTitle">Services &amp; Fees</h2>
      <ul class="services-list">
        <li><span class="name" data-i18n="s1name">Surveillance &amp; observation</span> <span class="price" data-i18n="s1price">from £65/hour</span></li>
        <li><span class="name" data-i18n="s2name">Missing persons &amp; tracing</span> <span class="price" data-i18n="s2price">from £350</span></li>
        <li><span class="name" data-i18n="s3name">Background &amp; due diligence</span> <span class="price" data-i18n="s3price">from £150</span></li>
        <li><span class="name" data-i18n="s4name">Evidence &amp; alibi verification</span> <span class="price" data-i18n="s4price">from £400</span></li>
        <li><span class="name" data-i18n="s5name">Confidential enquiries</span> <span class="price" data-i18n="s5price">by quotation</span></li>
      </ul>
      <p class="services-note" data-i18n="servicesNote">Final fee depends on complexity and urgency. Initial consultation by arrangement. Contact for a confidential discussion.</p>
    </section>

    <section class="contacts">
      <h2 data-i18n="contactsTitle">Contacts</h2>
      <p class="email"><a href="mailto:221b@bakerstreet.example">✉ <span data-i18n="contactsEmail">221b@bakerstreet.example</span></a></p>
      <a href="#">Telegram</a>
      <a href="#">Baker Street</a>
      <a href="#">Watson's Blog</a>
    </section>
  </div>

  <!-- Chatbot widget (cursor-ai-chatbot style, themed for site) -->
  <script>
    window.aiChatConfig = {
      consultantName: "Sherlock Holmes",
      chatTitle: "Consultation",
      chatTitleRu: "Консультация",
      welcomeMessage: "Good evening. I am at your service—ask about our services, fees, or how to get in touch.",
      welcomeMessageRu: "Добрый день. Готов рассказать об услугах, ценах и контактах. О чём хотите спросить?",
      apiUrl: "/api/chat",
      primaryColor: "#00ff88"
    };
  </script>
  <style>
    #ai-chat-widget { position: fixed; bottom: 20px; right: 20px; z-index: 99999; font-family: inherit; }
    #ai-chat-toggle {
      width: 56px; height: 56px; border-radius: 50%;
      background: #00ff88; border: none; cursor: pointer;
      box-shadow: 0 0 24px rgba(0,255,136,0.4);
      display: flex; align-items: center; justify-content: center; transition: transform 0.2s;
    }
    #ai-chat-toggle:hover { transform: scale(1.08); }
    #ai-chat-toggle svg { width: 26px; height: 26px; fill: #0a0a0f; }
    #ai-chat-window {
      position: absolute; bottom: 70px; right: 0;
      width: 360px; max-height: 480px; background: #0d1117;
      border: 1px solid rgba(0,255,136,0.3); border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4); display: none; flex-direction: column; overflow: hidden;
    }
    #ai-chat-window.open { display: flex; }
    .ai-chat-header {
      background: rgba(0,255,136,0.15); color: #00ff88; padding: 12px 16px;
      font-weight: 600; display: flex; justify-content: space-between; align-items: center;
    }
    .ai-chat-close { background: none; border: none; color: #00ff88; cursor: pointer; font-size: 22px; }
    .ai-chat-messages { flex: 1; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 10px; min-height: 200px; }
    .ai-message { max-width: 90%; padding: 10px 14px; border-radius: 12px; font-size: 14px; line-height: 1.5; }
    .ai-message.user { background: rgba(0,255,136,0.25); color: #f0fff4; align-self: flex-end; border-bottom-right-radius: 4px; }
    .ai-message.assistant { background: rgba(15,15,25,0.9); color: #b8d4be; align-self: flex-start; border: 1px solid rgba(0,255,136,0.2); border-bottom-left-radius: 4px; }
    .ai-message.error { background: rgba(220,38,38,0.2); color: #fca5a5; font-size: 13px; }
    .ai-chat-input { padding: 12px; border-top: 1px solid rgba(0,255,136,0.2); display: flex; gap: 8px; }
    .ai-chat-input input {
      flex: 1; padding: 10px 14px; background: rgba(10,10,15,0.8); border: 1px solid rgba(0,255,136,0.3);
      border-radius: 20px; color: #f0fff4; font-size: 14px; outline: none;
    }
    .ai-chat-input input::placeholder { color: #6b7280; }
    .ai-chat-input input:focus { border-color: #00ff88; box-shadow: 0 0 0 2px rgba(0,255,136,0.2); }
    .ai-chat-input button {
      width: 42px; height: 42px; border-radius: 50%; background: #00ff88; border: none; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
    }
    .ai-chat-input button:hover { background: #39ff14; }
    .ai-chat-input button:disabled { background: #4b5563; cursor: not-allowed; }
    .ai-chat-input button svg { width: 18px; height: 18px; fill: #0a0a0f; }
    .ai-typing { display: flex; gap: 4px; padding: 10px 14px; background: rgba(0,255,136,0.1); border-radius: 12px; width: fit-content; }
    .ai-typing span { width: 6px; height: 6px; background: #00ff88; border-radius: 50%; animation: chatTyping 1s infinite; }
    .ai-typing span:nth-child(2) { animation-delay: 0.15s; } .ai-typing span:nth-child(3) { animation-delay: 0.3s; }
    @keyframes chatTyping { 0%,60%,100% { opacity: 0.4; } 30% { opacity: 1; } }
    @media (max-width: 480px) { #ai-chat-window { width: calc(100vw - 32px); right: -8px; } }
  </style>
  <div id="ai-chat-widget">
    <div id="ai-chat-window">
      <div class="ai-chat-header">
        <span id="chat-title">Consultation</span>
        <button class="ai-chat-close" onclick="closeChat()">×</button>
      </div>
      <div class="ai-chat-messages" id="chat-messages"></div>
      <div class="ai-chat-input">
        <input type="text" id="user-message" placeholder="Type a message..." onkeypress="handleChatKeyPress(event)">
        <button id="send-btn" onclick="sendChatMessage()">
          <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
        </button>
      </div>
    </div>
    <button id="ai-chat-toggle" onclick="toggleChat()">
      <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z"/></svg>
    </button>
  </div>
  <script>
  (function() {
    var config = window.aiChatConfig || {};
    function getWelcome() {
      var lang = document.documentElement.lang || (localStorage.getItem('lang') || 'en');
      return lang === 'ru' ? (config.welcomeMessageRu || config.welcomeMessage) : config.welcomeMessage;
    }
    function updateChatTitle() {
      var lang = document.documentElement.lang || (localStorage.getItem('lang') || 'en');
      var el = document.getElementById('chat-title');
      if (el) el.textContent = lang === 'ru' ? (config.chatTitleRu || config.chatTitle) : config.chatTitle;
    }
    window.toggleChat = function() {
      var win = document.getElementById('ai-chat-window');
      win.classList.toggle('open');
      if (win.classList.contains('open')) {
        updateChatTitle();
        if (document.getElementById('chat-messages').children.length === 0)
          addChatMessage(getWelcome(), 'assistant');
      }
    };
    window.closeChat = function() { document.getElementById('ai-chat-window').classList.remove('open'); };
    window.handleChatKeyPress = function(e) { if (e.key === 'Enter') sendChatMessage(); };
    window.sendChatMessage = async function() {
      var input = document.getElementById('user-message');
      var message = input.value.trim();
      var sendBtn = document.getElementById('send-btn');
      if (!message) return;
      addChatMessage(message, 'user');
      input.value = '';
      sendBtn.disabled = true;
      var typingId = 'typing-' + Date.now();
      document.getElementById('chat-messages').insertAdjacentHTML('beforeend', '<div class="ai-typing" id="' + typingId + '"><span></span><span></span><span></span></div>');
      document.getElementById('chat-messages').scrollTop = 1e9;
      try {
        var base = window.location.origin;
        var res = await fetch((config.apiUrl && config.apiUrl.startsWith('http') ? config.apiUrl : base + config.apiUrl), {
          method: 'POST', headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: message })
        });
        document.getElementById(typingId) && document.getElementById(typingId).remove();
        if (!res.ok) { var err = await res.json(); throw new Error(err.error || 'Request failed'); }
        var data = await res.json();
        addChatMessage(data.response, 'assistant');
      } catch (err) {
        document.getElementById(typingId) && document.getElementById(typingId).remove();
        addChatMessage('Sorry, something went wrong: ' + err.message, 'error');
      }
      sendBtn.disabled = false;
    };
    function addChatMessage(text, role) {
      var container = document.getElementById('chat-messages');
      var div = document.createElement('div');
      div.className = 'ai-message ' + role;
      div.textContent = text;
      container.appendChild(div);
      container.scrollTop = container.scrollHeight;
    }
  })();
  </script>

  <script>
    var i18n = {
      en: {
        heroName: 'Sherlock Holmes',
        heroSubtitle: 'Consulting Detective',
        heroDesc: 'Private detective based at 221B Baker Street, London. Renowned for observation, deduction, and solving the most baffling cases.',
        aboutTitle: 'About',
        about1: 'Sherlock Holmes is a fictional detective created by Sir Arthur Conan Doyle, first appearing in 1887. He is known for his sharp mind, mastery of disguise, and ability to draw conclusions from the smallest details. He lives at 221B Baker Street with his friend and chronicler Dr. John Watson.',
        about2: 'Holmes applies strict logic and scientific method to every case. He plays the violin, practices boxing and fencing, and has a deep knowledge of chemistry and forensic science. His methods of observation and deductive reasoning have made him one of the most famous characters in world literature.',
        about3: "The character has been adapted countless times in film, television, and theatre. Holmes remains a symbol of intellect and the power of reason—and an enduring icon of the detective genre.",
        contactsTitle: 'Contacts',
        contactsEmail: '221b@bakerstreet.example',
        servicesTitle: 'Services & Fees',
        s1name: 'Surveillance & observation',
        s1price: 'from £65/hour',
        s2name: 'Missing persons & tracing',
        s2price: 'from £350',
        s3name: 'Background & due diligence',
        s3price: 'from £150',
        s4name: 'Evidence & alibi verification',
        s4price: 'from £400',
        s5name: 'Confidential enquiries',
        s5price: 'by quotation',
        servicesNote: 'Final fee depends on complexity and urgency. Initial consultation by arrangement. Contact for a confidential discussion.',
        chatTitle: 'Consultation',
        chatPlaceholder: 'Type a message...'
      },
      ru: {
        heroName: 'Шерлок Холмс',
        heroSubtitle: 'Частный консультант-детектив',
        heroDesc: 'Частный детектив с резиденцией на Бейкер-стрит, 221Б, Лондон. Известен наблюдательностью, дедукцией и разгадкой самых запутанных дел.',
        aboutTitle: 'О себе',
        about1: 'Шерлок Холмс — литературный персонаж, созданный Артуром Конан Дойлом и впервые появившийся в 1887 году. Известен острым умом, искусством перевоплощения и умением делать выводы из мельчайших деталей. Живёт на Бейкер-стрит, 221Б, вместе с другом и летописцем доктором Джоном Ватсоном.',
        about2: 'Холмс применяет к каждому делу строгую логику и научный метод. Играет на скрипке, занимается боксом и фехтованием, глубоко знает химию и криминалистику. Его методы наблюдения и дедукции сделали его одним из самых известных персонажей мировой литературы.',
        about3: 'Персонаж бесчисленно экранизировался и ставился в театре. Холмс остаётся символом интеллекта и силы разума — и одной из главных икон детективного жанра.',
        contactsTitle: 'Контакты',
        contactsEmail: '221b@bakerstreet.example',
        servicesTitle: 'Услуги и цены',
        s1name: 'Наблюдение и слежка',
        s1price: 'от 15 000 ₽/день',
        s2name: 'Поиск людей, розыск',
        s2price: 'от 35 000 ₽',
        s3name: 'Проверка личности и репутации',
        s3price: 'от 20 000 ₽',
        s4name: 'Проверка алиби, сбор доказательств',
        s4price: 'от 30 000 ₽',
        s5name: 'Конфиденциальные расследования',
        s5price: 'по запросу',
        servicesNote: 'Итоговая стоимость зависит от сложности и срочности. Первичная консультация по договорённости. Свяжитесь для конфиденциального обсуждения.',
        chatTitle: 'Консультация',
        chatPlaceholder: 'Напишите сообщение...'
      }
    };

    var currentLang = localStorage.getItem('lang') || 'en';

    function setLang(lang) {
      currentLang = lang;
      localStorage.setItem('lang', lang);
      document.querySelectorAll('[data-i18n]').forEach(function(el) {
        var key = el.getAttribute('data-i18n');
        if (i18n[lang] && i18n[lang][key]) el.textContent = i18n[lang][key];
      });
      document.querySelectorAll('.lang-switch button').forEach(function(btn) {
        btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
      });
      document.documentElement.lang = lang === 'ru' ? 'ru' : 'en';
      var titleEl = document.getElementById('chat-title');
      var inputEl = document.getElementById('user-message');
      if (titleEl && i18n[lang].chatTitle) titleEl.textContent = i18n[lang].chatTitle;
      if (inputEl && i18n[lang].chatPlaceholder) inputEl.placeholder = i18n[lang].chatPlaceholder;
    }

    document.querySelectorAll('.lang-switch button').forEach(function(btn) {
      btn.addEventListener('click', function() {
        setLang(this.getAttribute('data-lang'));
      });
    });

    setLang(currentLang);
  </script>
</body>
</html>
